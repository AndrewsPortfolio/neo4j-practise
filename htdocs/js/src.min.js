function logDebug(e,r){showDebug&&console.log(e+" : "+r)}function submitForm(e,r){var t=createUrl(r);$.post(t,e).done(function(e){switch(e){case codes.success:alert("record added"),$("#"+r+"Form")[0].reset(),$("#"+r).modal("hide");break;case codes.inputError:alert("there was an input error");break;case codes.dbError:alert("there was an database error");break;case codes.unknown:alert("there was an unkown error")}}).fail(function(e){alert("there was a url error"),console.log("error")})}function getData(e,r,t,o){var a=createUrl(e);$.get(a,t).done(function(e){switch(e){case codes.inputError:alert("there was an input error");break;case codes.dbError:alert("there was an database error");break;case codes.unknown:alert("there was an unkown error");break;default:return $(document).trigger(""+o,[e]),e}}).fail(function(e){alert("there was a url error"),console.log("error")})}function extractData(e){props=e._fields}function createUrl(e){return server.protocol+server.ip+":"+server.port+"/"+e}function formToArray(e){var r={};for(var t of e.entries())r[t[0]]=t[1];return r}departments=new Vue({el:"#e_dep",data:{departments:[]},created:function(){this.getDepartments()},methods:{getDepartments:function(){this.$http.get(createUrl("departments")).then(e=>{this.departments=e.body,console.log(this.departments)},e=>{}).bind(this)}}});$("#addEmployeeForm").submit(function(e){e.preventDefault();var r=document.getElementById("addEmployeeForm");submitForm(formToArray(new FormData(r)),"addEmployee")}),$("#addDepartmentForm").submit(function(e){e.preventDefault();var r=document.getElementById("addDepartmentForm");submitForm(formToArray(new FormData(r)),"addDepartment")});var departments,employees,showDebug=!0,codes={success:1,dbError:2,inputError:3,unknown:4},server={protocol:"http://",ip:"127.0.0.1",port:"1337"};