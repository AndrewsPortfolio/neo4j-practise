function logDebug(e,r){showDebug&&console.log(e+" : "+r)}function submitForm(e,r){var t=createUrl(r);$.post(t,e).done(function(e){switch(e){case codes.success:alert("record added"),$("#"+r+"Form")[0].reset(),$("#"+r).modal("hide");break;case codes.inputError:alert("there was an input error");break;case codes.dbError:alert("there was an database error");break;case codes.unknown:alert("there was an unkown error")}}).fail(function(e){alert("there was a url error"),console.log("error")})}function getData(e,r,t,o){var a=createUrl(e);$.get(a,t).done(function(e){switch(e){case codes.inputError:alert("there was an input error");break;case codes.dbError:alert("there was an database error");break;case codes.unknown:alert("there was an unkown error");break;default:return $(document).trigger(""+o,[e]),e}}).fail(function(e){alert("there was a url error"),console.log("error")})}function extractSingleDataVue(e){return arr=[],e.forEach(function(e){arr.push(e._fields[0].properties)}),arr}function errorCheck(e){switch(e){case e.success:return!0;case e.dbError:case e.inputError:return!1;default:return!0}}function createUrl(e){return server.protocol+server.ip+":"+server.port+"/"+e}function formToArray(e){var r={};for(var t of e.entries())r[t[0]]=t[1];return r}var departments,employees,showDebug=!0,codes={success:1,dbError:2,inputError:3,unknown:4},server={protocol:"http://",ip:"127.0.0.1",port:"1337"};Vue.component("dep-option",{template:"<option>{{ dep.name }}</option>",props:["dep"]});var app=new Vue({el:"#e_controller",data:{test:"this is a test",departments:[],employees:[]},created:function(){this.getDepartments(),this.getEmployees()},methods:{getDepartments:function(){this.$http.get(createUrl("departments")).then(e=>{errorCheck(e)?this.departments=extractSingleDataVue(e.body):console.log("data error : "+e)},e=>{}).bind(this)},addDepartment:function(e){var r={name:e.target.elements.name.value,description:e.target.elements.description.value};this.$http.post(createUrl("addDepartment"),r).then(t=>{errorCheck(t)?(this.departments.push(r),e.target.reset()):console.log("data error : "+t)},e=>{}).bind(this)},getEmployees:function(){this.$http.get(createUrl("Employees")).then(e=>{errorCheck(e)?this.employees=extractSingleDataVue(e.body):console.log("data error : "+e)},e=>{}).bind(this)}}});